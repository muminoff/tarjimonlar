{% load staticfiles i18n %}
{% load pipeline %}
<!doctype html>
<html lang="uz">
  <head>
    <title>{% block title %}Таржимонлар гуруҳи{% endblock title %}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Таржимонлар гуруҳи">
    <meta name="keywords" content="ўзбек, ўзбек тили, ўзбекча, таржима, таржимон, таржимонлар, ўзбеклар фейсбукда, бадиий китоблар, бадиий асарлар, ўзбек таржималар">
    <meta name="robots" content="index, follow">
    <meta name="copyright" content="Uzbek Translators">
    <meta name="language" content="uzbek">
    <meta name="web_author" content="@muminoff">
    <meta name="author" content="@muminoff">
    <meta name="rating" content="general">
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" />
    {% stylesheet 'bootstrap' %}
    {% stylesheet 'flat' %}
    {% stylesheet 'project' %}
  </head>
  <body>
      <div class="col-xs-12">
          <nav class="navbar navbar-inverse navbar-embossed" role="navigation">
          <div class="collapse navbar-collapse" id="navbar-collapse-01">
              <ul class="nav navbar-nav navbar-left">
                  {% for k, v in menus.items %}
                  <li {% if v.active %}class="active"{% endif %}><a href="{% url k %}"><span class="icon-{{ v.icon }}"></span> {{ v.title }}</a></li>
                  {% endfor %}
              </ul>
              {% if request.user.is_authenticated %}
              <ul class="nav navbar-nav navbar-right">
                  <li><a href="#">Чиқиш</a></li>
              </ul>
              {% endif %}
          </div>
          </nav>
      </div>

      <div class="container">
          {% block content %}{% endblock %}
      </div>

      {% if request.path == '/comments/' %}
      {% stylesheet 'chart' %}
      {% javascript 'jquery' %}
      {% javascript 'raphael' %}
      {% javascript 'morris' %}
      <script type="text/javascript">
        new Morris.Bar({
            element: 'daily_comments',
            data: [
              {% for comment in daily_comments %}
              { day: '{{ comment.day|date:"d-m-Y" }}', num_comments: {{ comment.num_comments }} },
              {% endfor %}
        ],
        xkey: 'day',
        ykeys: ['num_comments'],
        labels: ['Шарҳлар'],
        barColors: ['#2c3e50'],
        grid: true,
        axes: true,
        resize: true,
        gridTextColor: '#7f8c8d',
        gridTextSize: 10,
        gridTextFamily: 'Noto Serif',
        barRatio: 0.4,
        xLabelAngle: 45,
        hideHover: 'auto'
        });
        new Morris.Bar({
            element: 'monthly_comments',
            data: [
              {% for comment in monthly_comments %}
              { day: '{{ comment.month|date:"m-Y" }}', num_comments: {{ comment.num_comments }} },
              {% endfor %}
        ],
        xkey: 'day',
        ykeys: ['num_comments'],
        labels: ['Шарҳлар'],
        barColors: ['#2c3e50'],
        resize: true,
        gridTextColor: '#7f8c8d',
        gridTextSize: 10,
        gridTextFamily: 'Noto Serif',
        barRatio: 0.4,
        xLabelAngle: 45,
        hideHover: 'auto'
        });
        Morris.Donut({
        element: 'yearly_comments',
        data: [
          {% for comment in yearly_comments %}
          {label: '{{ comment.year|date:"Y" }} йил', value: {{ comment.num_comments }} },
          {% endfor %}
        ],
        colors: ['#2c3e50'],
        formatter: function(y, data) { return y + ' та шарҳ' },
        gridTextColor: '#7f8c8d',
        gridTextSize: 10,
        gridTextFamily: 'Noto Serif'
      });
      </script>
      {% endif %}

    
  </body>
</html>
