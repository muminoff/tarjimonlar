{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col-md-12">
        <div id="main" style="height:400px"></div>
    </div>
</div>
<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
    require.config({
        paths: {
            echarts: 'http://echarts.baidu.com/build/dist'
        }
    });

    require(
        [
            'echarts',
            'echarts/chart/pie'
        ],
        function (ec) {
            var myChart = ec.init(document.getElementById('main')); 

            var option = {
                title : {
                    text: 'Аъзолар бўйича',
                    subtext: 'Статистика',
                    x:'center'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient : 'vertical',
                    x : 'left',
                    data:['Аъзолар','Админлар']
                },
                series : [
                    {
                        name:'Сон бўйича',
                        type:'pie',
                        radius : '55%',
                        center: ['50%', '60%'],
                        data:[
                            {value:{{ top_posters }}, name:'Аъзолар'},
                            {value:{{ top_commentors }}, name:'Админлар'}
                        ]
                    }
                ]
            };


            myChart.setOption(option); 
        }
    );
</script>
{% endblock content %}
